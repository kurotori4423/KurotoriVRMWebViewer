# プロジェクト開発ルール・ガイドライン

## 基本開発方針

### 実装アプローチ
- **Info.mdの確認**: まず技術仕様を確認し、必要なTodoをDocs/Todo.mdに追加
- **段階的実装**: 機能を一つずつ実装し、その都度実装が正しいかどうか確認
- **シンプル重視**: シンプルな機能から実装を始め、徐々に機能を追加
- **モジュール分割**: 機能ごとにファイルを分けてコード管理を効率化
- **機能制限**: 実装時に必要以上の機能を追加せず、必要に応じて拡張

### コーディング品質基準
- **可読性重視**: 適切な変数名・関数名を使用し、理解しやすいコードを作成
- **意図説明**: コードの意図や動作をコメントで説明
- **複雑ロジック**: 特に複雑なロジックやアルゴリズムは詳細なコメントを追加

## メモリバンク・会話履歴管理

### 会話履歴圧縮時の記憶保持対策
- **定期的な進捗記録**: 開発中の現在の作業状況をdevelopment-progress.mdに随時更新
- **実行状況記録**: 現在実行中の機能実装、テスト結果、次のステップを明記
- **完了項目記録**: 完了した機能と残りのタスクを明確に分離
- **問題・課題記録**: 現在発生している問題や技術的課題をtrubleshooting.mdに記録
- **次回再開用情報**: 会話が再開された時にすぐに状況を把握できる情報を準備

### 記録すべき項目
1. **現在の実装対象**: どの機能を実装中か
2. **実装の進捗状況**: どこまで完了し、何が残っているか
3. **発生した問題**: エラーや技術的課題
4. **解決済み事項**: 解決した問題と解決方法
5. **次のアクション**: 次に取り組むべき具体的なタスク
6. **テスト状況**: どのテストを実行し、結果はどうだったか

### 記録タイミング
- 機能実装開始時
- 重要な実装完了時
- エラーや問題発生時
- テスト実行後
- ユーザーからの新しい要求があった時
- 長い会話が続いている時（20-30回のやり取りごと）

## テスト・品質管理

### Playwright MCP活用
- **デバッグ重視**: ブラウザでのデバッグが容易な実装を心がける
- **必須テスト**: 一つの機能実装完了後は必ずPlaywrightテストを実行
- **自動化推奨**: テストの自動化でより効果的な品質管理
- **動作確認**: 実装完了時の動作確認を徹底

### コードレビュー
- **フィードバック必須**: 実装完了後は必ずコードレビューを実施
- **継続改善**: レビュー結果を次の実装に反映

## Windows開発環境特有のルール

### ターミナルコマンド制約
- **PowerShell対応**: WindowsのコマンドプロンプトやPowerShell対応コマンドを使用
- **&&演算子禁止**: `&&`の代わりに`;`を使用してコマンド連結
  - ❌ 悪い例: `npm install && npm run build`
  - ✅ 良い例: `npm install; npm run build`
- **個別実行**: 複数コマンドの同時実行は避け、一つずつ実行
- **実行環境**: Visual Studio Code統合ターミナルでの実行

### 修正・改善プロセス
- **Todo追加**: 修正依頼時はTodo.mdに修正内容を追加
- **次回反映**: 修正内容を次の実装に必ず反映
- **メモ記録**: 重要な知見や個人メモは`.github/instructions/memo.instructions.md`に追記

## プロジェクト管理ルール

### ドキュメント管理
- **技術仕様**: `Docs/Info.md` - 技術選定と実装方針
- **タスク管理**: `Docs/Todo.md` - 実装タスクと進捗管理
- **開発ガイド**: `.github/instructions/general.instructions.md` - 基本ルール
- **技術メモ**: `.github/instructions/memo.instructions.md` - 実装知見と重要メモ

### 情報共有・記録
- **知見蓄積**: 開発で得た重要な知見は必ずmemo.instructions.mdに記録
- **問題解決**: トラブルシューティング情報の蓄積
- **ベストプラクティス**: 成功パターンと失敗パターンの記録

## 品質保証原則

### 実装品質
1. **機能完成**: 一つの機能を完全に実装してから次へ進む
2. **動作確認**: 各フェーズ完了時にPlaywrightテストで動作確認
3. **フィードバック**: 実装完了時の必須コードレビュー
4. **継続改善**: レビュー結果と修正内容の次回実装への反映

### コード品質
1. **命名規則**: 意味のある変数名・関数名の使用
2. **コメント**: 複雑なロジックには詳細な説明コメント
3. **モジュール性**: 機能ごとのファイル分割
4. **可読性**: 他の開発者が理解しやすいコード構造

この開発ルールに従うことで、高品質で保守しやすいVRMビューワーの開発を実現します。