# 📋 PROJECT BRIEF - KurotoriVRM WebViewer

**プロジェクト名**: KurotoriVRM WebViewer  
**バージョン**: 0.0.0  
**タイプ**: WebGL VRMビューワー  
**最終更新**: 2025年6月29日

---

## 🎯 プロジェクト概要

KurotoriVRM WebViewerは、WebGLベースで動作するVRMビューワーです。ブラウザ上でVRMモデルを表示・操作できるWebアプリケーションとして開発されています。

### 🎯 主要目標
- **VRM表示**: VRM 0.x および VRM 1.0 形式の完全サポート
- **ポージング**: ボーン操作による高度なポージング機能
- **表情制御**: VRM表情システムの完全統合
- **複数モデル管理**: 最大5体同時読み込み・操作
- **リアルタイム操作**: 60FPS維持による滑らかな操作体験

### 🎨 ユーザー体験目標
- **直感的操作**: マウス・キーボードによる自然な操作
- **高レスポンス**: リアルタイムフィードバック
- **アクセシビリティ**: WAI-ARIA準拠のユーザーインターフェース
- **クロスプラットフォーム**: モダンブラウザ対応

## 🏗️ 技術アーキテクチャ

### フロントエンド技術
- **3D描画**: Three.js WebGL
- **VRM処理**: @pixiv/three-vrm (v3.4.1)
- **アニメーション**: @pixiv/three-vrm-animation (v3.4.1)
- **開発環境**: Vite + TypeScript
- **UI Framework**: Vanilla JavaScript + CSS Grid/Flexbox

### アーキテクチャパターン
- **BaseManagerパターン**: 統一されたマネージャー階層
- **EventBusシステム**: 疎結合コンポーネント通信
- **モジュール化設計**: 関心の分離・依存関係明確化

## 📊 開発状況

### 完了済み主要機能
- ✅ VRM 0.x/1.0 読み込み・表示
- ✅ 複数モデル同時管理 (最大5体)
- ✅ ボーンポージング・Transform Controls
- ✅ 表情制御システム (FEAT-011)
- ✅ ライト調整・背景設定
- ✅ ViewportGizmo・カメラ制御

### 現在開発中
- ⏳ **FEAT-013**: VRMA対応実装
- ⏳ 選択中モデル設定UI改善
- ⏳ アクセシビリティ強化

### 技術的成果
- **座標系統一**: VRMシーン階層内配置による根本的解決
- **最適化基盤**: 階層キャッシュ・バッチ更新システム
- **型安全性**: TypeScript完全活用・エラーハンドリング強化

## 🎯 品質指標

**全体安定性**: ⭐⭐⭐⭐⭐ (BonePointsパターン統合完了)  
**アーキテクチャ**: ⭐⭐⭐⭐⭐ (BaseManagerパターン統一)  
**コード品質**: ⭐⭐⭐⭐⭐ (TypeScript型安全・モジュール化)  
**UI/UX**: ⭐⭐⭐⭐⭐ (直感的操作・リアルタイム応答)  
**パフォーマンス**: ⭐⭐⭐⭐⭐ (60FPS維持・メモリ効率化)

## 🚀 将来展望

### 次期実装予定
- **VRMA統合**: VRMアニメーション完全サポート
- **タブ式UI**: 基本・ポーズ・表情の整理された操作パネル
- **高度な表情制御**: リアルタイム表情ブレンド
- **パフォーマンス最適化**: さらなる描画効率化

### 長期ビジョン
- VR/AR対応検討
- プラグインシステム導入
- クラウド連携機能
- マルチユーザー協調編集 