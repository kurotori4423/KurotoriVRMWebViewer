# é–‹ç™ºãƒ¡ãƒ¢ãƒ»è¨­è¨ˆæ–¹é‡

## UIè¨­è¨ˆã®æ–¹é‡

### ãƒ•ã‚§ãƒ¼ã‚º2.4: UIæ•´ç†ãƒ»æ”¹å–„ã®ç†ç”±ã¨æ–¹é‡

#### èƒŒæ™¯
- ãƒ•ã‚§ãƒ¼ã‚º2ã®æ©Ÿèƒ½è¿½åŠ ã«ã‚ˆã‚Šã€å·¦ã‚µã‚¤ãƒ‰ãƒãƒ¼ã®UIãŒç¸¦ã«é•·ããªã‚Šã™ãã¦ç”»é¢ã«åã¾ã‚‰ãªã„å•é¡ŒãŒç™ºç”Ÿ
- ãƒ¦ãƒ¼ã‚¶ãƒ“ãƒªãƒ†ã‚£ã®å‘ä¸Šã®ãŸã‚ã€ãƒ¢ãƒ¼ãƒ€ãƒ«ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã‚„ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆåˆ¥ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã®å°å…¥ãŒå¿…è¦

#### æ–°ã—ã„UIè¨­è¨ˆæ–¹é‡
1. **å·¦ã‚µã‚¤ãƒ‰ãƒãƒ¼**: å¸¸æ™‚è¡¨ç¤ºã•ã‚Œã‚‹åŸºæœ¬æ©Ÿèƒ½ã®ã¿
   - VRMãƒ•ã‚¡ã‚¤ãƒ«èª­ã¿è¾¼ã¿ãƒœã‚¿ãƒ³ï¼ˆã‚·ãƒ³ãƒ—ãƒ«åŒ–ï¼‰
   - èª­ã¿è¾¼ã¿æ¸ˆãƒ¢ãƒ‡ãƒ«ä¸€è¦§
   - ãƒ©ã‚¤ãƒˆè¨­å®š
   - èƒŒæ™¯è¨­å®š

2. **ä¸­å¤®ãƒ¢ãƒ¼ãƒ€ãƒ«**: VRMãƒ•ã‚¡ã‚¤ãƒ«èª­ã¿è¾¼ã¿é–¢é€£æ©Ÿèƒ½
   - ã‚µãƒ³ãƒ—ãƒ«è¿½åŠ ãƒœã‚¿ãƒ³
   - ãƒ‰ãƒ©ãƒƒã‚°&ãƒ‰ãƒ­ãƒƒãƒ—é ˜åŸŸ
   - Ã—ãƒœã‚¿ãƒ³ã§é–‰ã˜ã‚‹æ©Ÿèƒ½
   - ãƒ—ãƒªã‚»ãƒƒãƒˆãƒœã‚¿ãƒ³ã¯å‰Šé™¤ï¼ˆã‚·ãƒ³ãƒ—ãƒ«åŒ–ï¼‰

3. **å³ä¸‹ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦**: é¸æŠãƒ¢ãƒ‡ãƒ«ã®ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆæ“ä½œ
   - ã‚¹ã‚±ãƒ¼ãƒ«è¨­å®š
   - ãƒ•ã‚©ãƒ¼ã‚«ã‚¹ãƒ»éè¡¨ç¤ºãƒ»å‰Šé™¤ãƒœã‚¿ãƒ³
   - ä»Šå¾Œã®æ‹¡å¼µï¼ˆãƒãƒ¼ã‚¸ãƒ³ã‚°ã€ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ç­‰ï¼‰ã«å¯¾å¿œ

#### æœŸå¾…åŠ¹æœ
- ç”»é¢ã®æœ‰åŠ¹æ´»ç”¨
- æ©Ÿèƒ½åˆ¥ã®ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆåˆ†é›¢
- å°†æ¥çš„ãªæ©Ÿèƒ½æ‹¡å¼µã¸ã®å¯¾å¿œ
- ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®èªçŸ¥è² è·è»½æ¸›

## æŠ€è¡“çš„ãªå®Ÿè£…æ–¹é‡

### ãƒ¢ãƒ¼ãƒ€ãƒ«ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦
- CSS overlay/modalã‚’ä½¿ç”¨
- ESCã‚­ãƒ¼ã§ã®é–‰ã˜ã‚‹æ©Ÿèƒ½
- èƒŒæ™¯ã‚¯ãƒªãƒƒã‚¯ã§ã®é–‰ã˜ã‚‹æ©Ÿèƒ½
- ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ä»˜ãã®è¡¨ç¤º/éè¡¨ç¤º

### é¸æŠãƒ¢ãƒ‡ãƒ«è©³ç´°ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦
- å³ä¸‹å›ºå®šä½ç½®
- ãƒ¢ãƒ‡ãƒ«é¸æŠæ™‚ã®è‡ªå‹•è¡¨ç¤º/éè¡¨ç¤º
- ãƒªã‚µã‚¤ã‚ºå¯èƒ½ãªè¨­è¨ˆ
- ä»Šå¾Œã®æ©Ÿèƒ½è¿½åŠ ã«å¯¾å¿œã—ãŸæ‹¡å¼µæ€§

### CSSè¨­è¨ˆ
- ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«åŒ–ã•ã‚ŒãŸã‚¹ã‚¿ã‚¤ãƒ«
- ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–å¯¾å¿œ
- ãƒ€ãƒ¼ã‚¯ãƒ†ãƒ¼ãƒå¯¾å¿œ
- ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£è€ƒæ…®

## ãƒ•ã‚§ãƒ¼ã‚º2.4å®Ÿè£…å®Œäº†å ±å‘Š

### æˆæœ
âœ… **UIæ•´ç†ãƒ»æ”¹å–„ãŒå®Œå…¨ã«æˆåŠŸ**

#### å®Ÿè£…ã•ã‚ŒãŸä¸»è¦æ©Ÿèƒ½
1. **å·¦ã‚µã‚¤ãƒ‰ãƒãƒ¼ã®ã‚·ãƒ³ãƒ—ãƒ«åŒ–**
   - ç¸¦ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã®å•é¡Œè§£æ±º
   - åŸºæœ¬æ©Ÿèƒ½ã®ã¿å¸¸æ™‚è¡¨ç¤º
   - ç”»é¢ã®æœ‰åŠ¹æ´»ç”¨å®Ÿç¾

2. **VRMãƒ•ã‚¡ã‚¤ãƒ«èª­ã¿è¾¼ã¿ãƒ¢ãƒ¼ãƒ€ãƒ«**
   - ä¸­å¤®ãƒ¢ãƒ¼ãƒ€ãƒ«ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦å®Ÿè£…
   - Ã—ãƒœã‚¿ãƒ³ãƒ»ESCã‚­ãƒ¼ã§ã®é–‰ã˜ã‚‹æ©Ÿèƒ½
   - ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ä»˜ãè¡¨ç¤º/éè¡¨ç¤º
   - çµ±åˆã•ã‚ŒãŸãƒ•ã‚¡ã‚¤ãƒ«é¸æŠãƒ»ãƒ‰ãƒ©ãƒƒã‚°&ãƒ‰ãƒ­ãƒƒãƒ—ãƒ»ã‚µãƒ³ãƒ—ãƒ«æ©Ÿèƒ½

3. **é¸æŠãƒ¢ãƒ‡ãƒ«è©³ç´°ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦**
   - ç”»é¢å³ä¸‹å›ºå®šä½ç½®
   - ãƒ¢ãƒ‡ãƒ«é¸æŠæ™‚ã®è‡ªå‹•è¡¨ç¤º
   - ã‚¹ã‚±ãƒ¼ãƒ«ãƒ»æ“ä½œãƒœã‚¿ãƒ³ã®çµ±åˆ
   - ä»Šå¾Œã®æ©Ÿèƒ½æ‹¡å¼µã«å¯¾å¿œã—ãŸè¨­è¨ˆ

#### Playwrightãƒ†ã‚¹ãƒˆçµæœ
- âœ… ãƒ¢ãƒ¼ãƒ€ãƒ«ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã®é–‹é–‰
- âœ… VRM0ã‚µãƒ³ãƒ—ãƒ«ã®èª­ã¿è¾¼ã¿
- âœ… ãƒ¢ãƒ‡ãƒ«é¸æŠã¨ãƒ¡ã‚¿æƒ…å ±è¡¨ç¤ºï¼ˆ"ãƒ«ãƒ¼ã‚¬ãƒ³æ— é»’é³¥ç”¨"ï¼‰
- âœ… è©³ç´°ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã®è¡¨ç¤ºãƒ»æ“ä½œ
- âœ… UIè¦ç´ ã®æ­£å¸¸å‹•ä½œ

#### æŠ€è¡“çš„æˆæœ
- ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–å¯¾å¿œ
- ãƒ€ãƒ¼ã‚¯ãƒ†ãƒ¼ãƒå¯¾å¿œ
- ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£è€ƒæ…®
- ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«åŒ–ã•ã‚ŒãŸCSSè¨­è¨ˆ

## é–‹ç™ºé€²æ—ãƒ¡ãƒ¢

### ãƒ•ã‚§ãƒ¼ã‚º2.4å®Œäº† (2024/12/28)

#### âœ… å®Œäº†ã—ãŸä½œæ¥­
- UIå¤§å¹…ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°å®Œäº†
  - å·¦ã‚µã‚¤ãƒ‰ãƒãƒ¼ã®ã‚·ãƒ³ãƒ—ãƒ«åŒ–ï¼ˆä¸è¦ãªè¦ç´ å‰Šé™¤ï¼‰
  - VRMãƒ•ã‚¡ã‚¤ãƒ«èª­ã¿è¾¼ã¿ãƒ¢ãƒ¼ãƒ€ãƒ«ã®å®Ÿè£…
  - é¸æŠãƒ¢ãƒ‡ãƒ«è©³ç´°ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã®å®Ÿè£…ï¼ˆå³ä¸‹å›ºå®šä½ç½®ï¼‰
- é‡è¦ãªãƒã‚°ä¿®æ­£
  - `setSelectedModelScale` â†’ `setModelScale` ãƒ¡ã‚½ãƒƒãƒ‰åä¿®æ­£
  - `centerSelectedModel` â†’ `centerModel` ãƒ¡ã‚½ãƒƒãƒ‰åä¿®æ­£
  - `removeSelectedModel` â†’ `deleteSelectedModel` ãƒ¡ã‚½ãƒƒãƒ‰åä¿®æ­£
  - HTMLã«å­˜åœ¨ã—ãªã„è¦ç´ ã¸ã®ã‚¢ã‚¯ã‚»ã‚¹ã‚¨ãƒ©ãƒ¼ä¿®æ­£ï¼ˆsetupBackgroundHandlersï¼‰
- Playwright MCPã‚’ä½¿ç”¨ã—ãŸãƒ–ãƒ©ã‚¦ã‚¶ãƒ†ã‚¹ãƒˆå®Ÿæ–½
  - ã‚¹ã‚±ãƒ¼ãƒ«æ©Ÿèƒ½ã®å‹•ä½œç¢ºèªï¼ˆ1.6 â†’ 0.5ã¸ã®å¤‰æ›´ç¢ºèªï¼‰
  - ãƒ•ã‚©ãƒ¼ã‚«ã‚¹æ©Ÿèƒ½ã®å‹•ä½œç¢ºèª
  - ä¸­å¤®é…ç½®æ©Ÿèƒ½ã®å‹•ä½œç¢ºèª
  - å…¨UIè¦ç´ ã®æ­£å¸¸å‹•ä½œç¢ºèª

#### ğŸ¯ ç¢ºèªã§ããŸå‹•ä½œ
- VRMã‚µãƒ³ãƒ—ãƒ«èª­ã¿è¾¼ã¿: âœ…
- ãƒ¢ãƒ‡ãƒ«é¸æŠ: âœ…  
- ã‚¹ã‚±ãƒ¼ãƒ«èª¿æ•´: âœ… ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ãƒ­ã‚°ã§setModelScaleå‘¼ã³å‡ºã—ç¢ºèªæ¸ˆã¿
- ãƒ•ã‚©ãƒ¼ã‚«ã‚¹æ©Ÿèƒ½: âœ…
- ä¸­å¤®é…ç½®æ©Ÿèƒ½: âœ…
- ãƒ¢ãƒ¼ãƒ€ãƒ«é–‹é–‰: âœ…
- è©³ç´°ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦é–‹é–‰: âœ…

#### ğŸš€ æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—
ãƒ•ã‚§ãƒ¼ã‚º3: VRMãƒ¡ã‚¿æƒ…å ±è¡¨ç¤ºã®å®Ÿè£…ã«ç§»è¡Œ
- ãƒ¡ã‚¿æƒ…å ±ãƒ‘ãƒãƒ«ã®ä½œæˆ
- ãƒ¢ãƒ‡ãƒ«åã€ä½œè€…ã€ãƒ©ã‚¤ã‚»ãƒ³ã‚¹æƒ…å ±ã®è¡¨ç¤º
- ã‚µãƒ ãƒã‚¤ãƒ«ç”»åƒã®è¡¨ç¤º
- VRMãƒãƒ¼ã‚¸ãƒ§ãƒ³æƒ…å ±ã®è¡¨ç¤º

ãƒ•ã‚§ãƒ¼ã‚º2.4ã¯å®Œå…¨ã«å®Œäº†ã€‚ã™ã¹ã¦ã®UI/UXæ”¹å–„ã¨ãƒã‚°ä¿®æ­£ãŒæˆåŠŸã€‚

## ãƒã‚°ä¿®æ­£ãƒ¡ãƒ¢

### ãƒ•ã‚§ãƒ¼ã‚º2.4å¾Œã®ãƒã‚°ä¿®æ­£ (2024/12/28)

#### ğŸ› ä¿®æ­£ã—ãŸãƒã‚°
1. **ãƒ¢ãƒ‡ãƒ«åè¡¨ç¤ºã®ä¸ä¸€è‡´**
   - å•é¡Œ: é¸æŠãƒ¢ãƒ‡ãƒ«æ“ä½œã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã§è¡¨ç¤ºã•ã‚Œã‚‹ãƒ¢ãƒ‡ãƒ«åãŒã€å®Ÿéš›ã«é¸æŠã—ãŸãƒ¢ãƒ‡ãƒ«ã®åå‰ã¨ç•°ãªã£ã¦ã„ãŸ
   - åŸå› : `updateSelectedModelControls`é–¢æ•°ã¨`updateModelList`é–¢æ•°ã§ãƒ¢ãƒ‡ãƒ«åå–å¾—ãƒ­ã‚¸ãƒƒã‚¯ãŒç•°ãªã£ã¦ã„ãŸ
   - ä¿®æ­£: ä¸¡é–¢æ•°ã§åŒã˜ãƒ­ã‚¸ãƒƒã‚¯`(selectedModel.meta as any).name`ã‚’ä½¿ç”¨ã™ã‚‹ã‚ˆã†ã«çµ±ä¸€

2. **éè¡¨ç¤ºãƒœã‚¿ãƒ³ã®å‹•ä½œä¸è‰¯**
   - å•é¡Œ: éè¡¨ç¤ºãƒœã‚¿ãƒ³ãŒæ­£å¸¸ã«å‹•ä½œã—ã¦ã„ãªã‹ã£ãŸ
   - åŸå› : ã‚¤ãƒ™ãƒ³ãƒˆãƒãƒ³ãƒ‰ãƒ©ãƒ¼ãŒé‡è¤‡ã—ã¦ç™»éŒ²ã•ã‚Œã¦ãŠã‚Šã€å¤ã„ãƒ­ã‚¸ãƒƒã‚¯ãŒæ®‹ã£ã¦ã„ãŸ
   - ä¿®æ­£: é‡è¤‡ã—ãŸã‚¤ãƒ™ãƒ³ãƒˆãƒãƒ³ãƒ‰ãƒ©ãƒ¼ã‚’å‰Šé™¤ã—ã€`updateSelectedModelControls`å‘¼ã³å‡ºã—ã‚’è¿½åŠ 

3. **å‰Šé™¤ç¢ºèªãƒ€ã‚¤ã‚¢ãƒ­ã‚°ã®é‡è¤‡**
   - å•é¡Œ: ãƒ¢ãƒ‡ãƒ«å‰Šé™¤æ™‚ã«ç¢ºèªãƒ€ã‚¤ã‚¢ãƒ­ã‚°ãŒ2å›è¡¨ç¤ºã•ã‚Œã¦ã„ãŸ
   - åŸå› : deleteSelectedBtnã®ã‚¤ãƒ™ãƒ³ãƒˆãƒãƒ³ãƒ‰ãƒ©ãƒ¼ãŒé‡è¤‡ã—ã¦ç™»éŒ²ã•ã‚Œã¦ã„ãŸ
   - ä¿®æ­£: é‡è¤‡ã—ãŸã‚¤ãƒ™ãƒ³ãƒˆãƒãƒ³ãƒ‰ãƒ©ãƒ¼ã‚’å‰Šé™¤

#### âœ… ç¢ºèªã§ããŸä¿®æ­£çµæœ
- Model 1ã‚’é¸æŠ â†’ è©³ç´°ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã«ã€ŒModel 1ã€ã¨æ­£ã—ãè¡¨ç¤º
- ãƒ«ãƒ¼ã‚¬ãƒ³æ— é»’é³¥ç”¨ã‚’é¸æŠ â†’ è©³ç´°ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã«ã€Œãƒ«ãƒ¼ã‚¬ãƒ³æ— é»’é³¥ç”¨ã€ã¨æ­£ã—ãè¡¨ç¤º
- éè¡¨ç¤ºãƒœã‚¿ãƒ³ â†’ ã€Œéè¡¨ç¤ºã€â†”ã€Œè¡¨ç¤ºã€ã®åˆ‡ã‚Šæ›¿ãˆãŒæ­£å¸¸å‹•ä½œ
- å‰Šé™¤ãƒœã‚¿ãƒ³ â†’ ç¢ºèªãƒ€ã‚¤ã‚¢ãƒ­ã‚°ãŒ1å›ã®ã¿è¡¨ç¤ºã€å‰Šé™¤å‡¦ç†æ­£å¸¸å‹•ä½œ

#### ğŸ“ ä¿®æ­£ãƒ•ã‚¡ã‚¤ãƒ«
- `src/main.ts`: ã‚¤ãƒ™ãƒ³ãƒˆãƒãƒ³ãƒ‰ãƒ©ãƒ¼ã®é‡è¤‡å‰Šé™¤ã€ãƒ¢ãƒ‡ãƒ«åå–å¾—ãƒ­ã‚¸ãƒƒã‚¯çµ±ä¸€

ã™ã¹ã¦ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼å ±å‘Šãƒã‚°ãŒä¿®æ­£ã•ã‚Œã€æ­£å¸¸å‹•ä½œã‚’ç¢ºèªã€‚

### ãƒ•ã‚§ãƒ¼ã‚º3: VRMãƒ¡ã‚¿æƒ…å ±è¡¨ç¤º å®Œäº† (2024/12/28)

#### âœ… å®Ÿè£…ã—ãŸæ©Ÿèƒ½
1. **Infoãƒœã‚¿ãƒ³ã®è¿½åŠ **
   - èª­ã¿è¾¼ã¿æ¸ˆãƒ¢ãƒ‡ãƒ«ãƒªã‚¹ãƒˆã®å„é …ç›®ã«Infoãƒœã‚¿ãƒ³ã‚’è¿½åŠ 
   - ãƒ¦ãƒ¼ã‚¶ãƒ¼è¦æ±‚ã«å¾“ã„ã€ãƒ¢ãƒ‡ãƒ«åã®å³å´ã«é…ç½®

2. **ãƒ¡ã‚¿æƒ…å ±ãƒ¢ãƒ¼ãƒ€ãƒ«ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦**
   - ç¾ã—ã„ãƒ‡ã‚¶ã‚¤ãƒ³ã®ãƒ¢ãƒ¼ãƒ€ãƒ«ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã‚’å®Ÿè£…
   - Ã—ãƒœã‚¿ãƒ³ã€ESCã‚­ãƒ¼ã€èƒŒæ™¯ã‚¯ãƒªãƒƒã‚¯ã§é–‰ã˜ã‚‹æ©Ÿèƒ½
   - ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ãƒ‡ã‚¶ã‚¤ãƒ³å¯¾å¿œ

3. **åŒ…æ‹¬çš„ãªãƒ¡ã‚¿æƒ…å ±è¡¨ç¤º**
   - **åŸºæœ¬æƒ…å ±**: ãƒ¢ãƒ‡ãƒ«åã€ä½œè€…ã€VRMãƒãƒ¼ã‚¸ãƒ§ãƒ³ï¼ˆ0.x / 1.0ï¼‰
   - **ãƒ©ã‚¤ã‚»ãƒ³ã‚¹æƒ…å ±**: å•†ç”¨åˆ©ç”¨è¨±å¯ã€åˆ©ç”¨è¨±å¯å¯¾è±¡ã€ãƒ©ã‚¤ã‚»ãƒ³ã‚¹åã€è©³ç´°URL
   - **é€£çµ¡å…ˆãƒ»ãã®ä»–**: é€£çµ¡å…ˆæƒ…å ±ã€å‚ç…§æƒ…å ±
   - VRM0ã¨VRM1ã®ä¸¡æ–¹ã®ãƒ¡ã‚¿æƒ…å ±å½¢å¼ã«å¯¾å¿œ

4. **ãƒ©ã‚¤ã‚»ãƒ³ã‚¹æƒ…å ±ã®è¦–è¦šåŒ–**
   - å•†ç”¨åˆ©ç”¨: è¨±å¯/ç¦æ­¢ã®ã‚«ãƒ©ãƒ¼ãƒãƒƒã‚¸è¡¨ç¤º
   - åˆ©ç”¨è¨±å¯: ä½œè€…ã®ã¿/ãƒ©ã‚¤ã‚»ãƒ³ã‚¹å¯¾è±¡è€…ã®ã¿/å…¨å“¡ã®ãƒãƒƒã‚¸è¡¨ç¤º
   - VRMãƒãƒ¼ã‚¸ãƒ§ãƒ³ãƒãƒƒã‚¸è¡¨ç¤º

#### ğŸ¯ ãƒ†ã‚¹ãƒˆçµæœ
- âœ… VRM0ã‚µãƒ³ãƒ—ãƒ«: ä½œè€…ã€Œkurotoriã€ã€å•†ç”¨åˆ©ç”¨ã€Œç¦æ­¢ã€ã€åˆ©ç”¨è¨±å¯ã€Œä½œè€…ã®ã¿ã€ã‚’æ­£ç¢ºã«è¡¨ç¤º
- âœ… VRM1ã‚µãƒ³ãƒ—ãƒ«: ãƒ¢ãƒ‡ãƒ«åã€Œãƒ«ãƒ¼ã‚¬ãƒ³æ— é»’é³¥ç”¨ã€ã€VRMãƒãƒ¼ã‚¸ãƒ§ãƒ³ã€ŒVRM 1.0ã€ã‚’æ­£ç¢ºã«è¡¨ç¤º
- âœ… Infoãƒœã‚¿ãƒ³ã‚¯ãƒªãƒƒã‚¯ â†’ ãƒ¡ã‚¿æƒ…å ±ãƒ¢ãƒ¼ãƒ€ãƒ«è¡¨ç¤º
- âœ… ESCã‚­ãƒ¼ã§ãƒ¢ãƒ¼ãƒ€ãƒ«é–‰ã˜ã‚‹
- âœ… Ã—ãƒœã‚¿ãƒ³ã§ãƒ¢ãƒ¼ãƒ€ãƒ«é–‰ã˜ã‚‹
- âœ… ãƒ¢ãƒ‡ãƒ«é¸æŠæ©Ÿèƒ½ã¨ã®å¹²æ¸‰ãªã—

#### ğŸ“ å®Ÿè£…ãƒ•ã‚¡ã‚¤ãƒ«
- `src/main.ts`: Infoãƒœã‚¿ãƒ³ã€ãƒ¢ãƒ¼ãƒ€ãƒ«ã€ãƒ¡ã‚¿æƒ…å ±è¡¨ç¤ºæ©Ÿèƒ½
- `src/style.css`: Infoãƒœã‚¿ãƒ³ã€ãƒ¡ã‚¿æƒ…å ±ãƒ¢ãƒ¼ãƒ€ãƒ«ã®ã‚¹ã‚¿ã‚¤ãƒ«

#### ğŸš€ æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—
ã‚µãƒ ãƒã‚¤ãƒ«ç”»åƒè¡¨ç¤ºã¯å°†æ¥ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã§å¯¾å¿œäºˆå®šï¼ˆãƒ¡ã‚¿æƒ…å ±ã«ã‚µãƒ ãƒã‚¤ãƒ«è¡¨ç¤ºç”¨ã®ãƒ—ãƒ¬ãƒ¼ã‚¹ãƒ›ãƒ«ãƒ€ãƒ¼ã¯å®Ÿè£…æ¸ˆã¿ï¼‰

ãƒ•ã‚§ãƒ¼ã‚º3.1: VRMãƒ¡ã‚¿æƒ…å ±è¡¨ç¤ºã¯ã»ã¼å®Œäº†ã€‚æ¬¡ã¯ãƒ•ã‚§ãƒ¼ã‚º3.2: lil-guiçµ±åˆã€ã¾ãŸã¯ãƒ•ã‚§ãƒ¼ã‚º4: ãƒãƒ¼ã‚¸ãƒ³ã‚°æ©Ÿèƒ½ã®é–‹å§‹ã‚’æ¤œè¨ã€‚

## ãƒ•ã‚§ãƒ¼ã‚º3å®Ÿè£…å®Œäº†ï¼ˆ2025å¹´6æœˆ27æ—¥ï¼‰

### VRMãƒ¡ã‚¿æƒ…å ±è¡¨ç¤ºæ©Ÿèƒ½
- **Infoãƒœã‚¿ãƒ³**: å„ãƒ¢ãƒ‡ãƒ«ãƒªã‚¹ãƒˆã‚¢ã‚¤ãƒ†ãƒ ã®å³å´ã«é…ç½®
- **ãƒ¡ã‚¿æƒ…å ±ãƒ¢ãƒ¼ãƒ€ãƒ«**: ã‚¯ãƒªãƒƒã‚¯ã§é–‹ãè©³ç´°æƒ…å ±ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦
- **è¡¨ç¤ºå†…å®¹**:
  - åŸºæœ¬æƒ…å ±: ãƒ¢ãƒ‡ãƒ«åã€ä½œè€…ã€VRMãƒãƒ¼ã‚¸ãƒ§ãƒ³ï¼ˆ0.x/1.0å¯¾å¿œï¼‰
  - ãƒ©ã‚¤ã‚»ãƒ³ã‚¹æƒ…å ±: å•†ç”¨åˆ©ç”¨ã€åˆ©ç”¨è¨±å¯ã€ãƒ©ã‚¤ã‚»ãƒ³ã‚¹è©³ç´°
  - é€£çµ¡å…ˆãƒ»ãã®ä»–æƒ…å ±: å¿…è¦ã«å¿œã˜ã¦è¡¨ç¤º
- **æ“ä½œæ€§**:
  - Ã—ãƒœã‚¿ãƒ³ã€ESCã‚­ãƒ¼ã€èƒŒæ™¯ã‚¯ãƒªãƒƒã‚¯å…¨ã¦ã§ãƒ¢ãƒ¼ãƒ€ãƒ«ã‚’é–‰ã˜ã‚‹
  - Infoãƒœã‚¿ãƒ³ã‚¯ãƒªãƒƒã‚¯æ™‚ã«ãƒ¢ãƒ‡ãƒ«é¸æŠã‚’é˜»å®³ã—ãªã„è¨­è¨ˆ

### Playwrightãƒ†ã‚¹ãƒˆçµæœ
- âœ… VRM0/VRM1ã‚µãƒ³ãƒ—ãƒ«ã§ã®å‹•ä½œç¢ºèª
- âœ… è¤‡æ•°ãƒ¢ãƒ‡ãƒ«èª­ã¿è¾¼ã¿æ™‚ã®å‹•ä½œç¢ºèª
- âœ… ãƒ¢ãƒ¼ãƒ€ãƒ«é–‹é–‰æ©Ÿèƒ½ã®å‹•ä½œç¢ºèª
- âœ… ESCã‚­ãƒ¼ã§ã®ãƒ¢ãƒ¼ãƒ€ãƒ«é–‰ã˜ã‚‹æ©Ÿèƒ½
- âœ… æ—¢å­˜ã®ãƒ¢ãƒ‡ãƒ«é¸æŠæ©Ÿèƒ½ã¸ã®å½±éŸ¿ãªã—

### æŠ€è¡“å®Ÿè£…è©³ç´°
- **HTML**: `meta-info-modal`è¦ç´ ã¨ãã®æ§‹é€ 
- **CSS**: ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–å¯¾å¿œã€ãƒ€ãƒ¼ã‚¯ãƒ¢ãƒ¼ãƒ‰å¯¾å¿œã€ãƒãƒƒã‚¸ã‚¹ã‚¿ã‚¤ãƒ«
- **JavaScript**: 
  - `showMetaInfoModal()`: ãƒ¢ãƒ¼ãƒ€ãƒ«è¡¨ç¤º
  - `generateMetaInfoHTML()`: ãƒ¡ã‚¿æƒ…å ±HTMLç”Ÿæˆ
  - `hideMetaInfoModal()`: ãƒ¢ãƒ¼ãƒ€ãƒ«éè¡¨ç¤º
  - ã‚¤ãƒ™ãƒ³ãƒˆãƒãƒ³ãƒ‰ãƒ©ãƒ¼: ã‚¯ãƒªãƒƒã‚¯ã€ESCã‚­ãƒ¼ã€èƒŒæ™¯ã‚¯ãƒªãƒƒã‚¯

### æ®‹ã‚Šã‚¿ã‚¹ã‚¯
- [ ] ã‚µãƒ ãƒã‚¤ãƒ«ç”»åƒã®è¡¨ç¤ºå®Ÿè£…ï¼ˆ`meta.texture`ã‹ã‚‰ã®ç”»åƒè¡¨ç¤ºï¼‰

### æ¬¡ã®ãƒ•ã‚§ãƒ¼ã‚ºæ¨å¥¨
- ãƒ•ã‚§ãƒ¼ã‚º3.2: lil-guiçµ±åˆ 
- ãƒ•ã‚§ãƒ¼ã‚º4: ãƒãƒ¼ã‚¸ãƒ³ã‚°æ©Ÿèƒ½ã®å®Ÿè£…

## ãƒ¡ã‚¿æƒ…å ±å–å¾—æ–¹å¼ã®ä¿®æ­£ï¼ˆ2025å¹´6æœˆ27æ—¥ï¼‰

### å®Ÿæ–½ã—ãŸä¿®æ­£
- **VRMãƒ­ãƒ¼ãƒ€ãƒ¼è¨­å®š**: `needThumbnailImage = true` ã§ã‚µãƒ ãƒã‚¤ãƒ«ç”»åƒèª­ã¿è¾¼ã¿ã‚’æœ‰åŠ¹åŒ–
- **ãƒ¡ã‚¿æƒ…å ±ã‚¢ã‚¯ã‚»ã‚¹**: `vrm.meta` â†’ `gltf.userData.vrmMeta` ã«ä¿®æ­£
- **VRMã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã¸ã®è¿½åŠ **: `(vrm as any).vrmMeta = vrmMeta` ã§å¾Œã‹ã‚‰ã‚¢ã‚¯ã‚»ã‚¹å¯èƒ½ã«ã™ã‚‹
- **ãƒ¡ã‚¿æƒ…å ±è¡¨ç¤ºãƒ­ã‚¸ãƒƒã‚¯**: VRM0.x/VRM1.0ã®é•ã„ã«å¯¾å¿œã—ãŸHTMLç”Ÿæˆ
- **ã‚µãƒ ãƒã‚¤ãƒ«ç”»åƒè¡¨ç¤º**: `vrmMeta.thumbnailImage.src` ã§å®Ÿéš›ã®ç”»åƒè¡¨ç¤º

### ç¢ºèªçµæœ
- âœ… VRM1.0: åŸºæœ¬æƒ…å ±ï¼ˆåå‰ã€ä½œè€…ã€ãƒãƒ¼ã‚¸ãƒ§ãƒ³ï¼‰+ ãƒ©ã‚¤ã‚»ãƒ³ã‚¹URL + ã‚µãƒ ãƒã‚¤ãƒ«ç”»åƒ
- âœ… VRM0.x: åŸºæœ¬æƒ…å ±ï¼ˆåå‰ã€ãƒãƒ¼ã‚¸ãƒ§ãƒ³ï¼‰+ è©³ç´°ãƒ©ã‚¤ã‚»ãƒ³ã‚¹æƒ…å ±ï¼ˆå•†ç”¨åˆ©ç”¨ã€åˆ©ç”¨è¨±å¯ç­‰ï¼‰
- âœ… ä¸¡å½¢å¼ã§ã‚µãƒ ãƒã‚¤ãƒ«ç”»åƒãŒæ­£å¸¸ã«è¡¨ç¤ºã•ã‚Œã‚‹
- âœ… ãƒ¢ãƒ‡ãƒ«åè¡¨ç¤ºã‚‚ä¿®æ­£ã•ã‚Œã€é¸æŠãƒ¢ãƒ‡ãƒ«è©³ç´°ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã§ã‚‚æ­£ã—ãè¡¨ç¤º

### æŠ€è¡“è©³ç´°
Three-VRMã®æ­£å¼ãªãƒ¡ã‚¿æƒ…å ±å–å¾—æ–¹æ³•ã«å¾“ã„ã€`gltf.userData.vrmMeta`ã‹ã‚‰ã®å–å¾—ã«çµ±ä¸€ã€‚
VRM0.xã¨VRM1.0ã§ãƒ¡ã‚¿æƒ…å ±ã®æ§‹é€ ãŒç•°ãªã‚‹ãŸã‚ã€æ¡ä»¶åˆ†å²ã§é©åˆ‡ã«å‡¦ç†ã€‚

## é–‹ç™ºãƒ—ãƒ­ã‚»ã‚¹ã®æ”¹å–„ï¼ˆ2025å¹´6æœˆ27æ—¥ï¼‰

### ã‚³ãƒŸãƒƒãƒˆæˆ¦ç•¥ã®ç¢ºç«‹
- **å„ãƒ•ã‚§ãƒ¼ã‚ºå®Œäº†æ™‚**: å¿…ãšã‚³ãƒŸãƒƒãƒˆã‚’å®Ÿè¡Œ
- **å„æ©Ÿèƒ½å®Ÿè£…å®Œäº†æ™‚**: å‹•ä½œç¢ºèªå¾Œã«å³åº§ã«ã‚³ãƒŸãƒƒãƒˆ
- **ãƒã‚°ä¿®æ­£å®Œäº†æ™‚**: ä¿®æ­£ã¨ãƒ†ã‚¹ãƒˆå®Œäº†å¾Œã«ã‚³ãƒŸãƒƒãƒˆ
- **ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°å®Œäº†æ™‚**: å‹•ä½œç¢ºèªå¾Œã«ã‚³ãƒŸãƒƒãƒˆ

### ã‚³ãƒŸãƒƒãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¦ç´„
- **feat**: æ–°æ©Ÿèƒ½è¿½åŠ 
- **fix**: ãƒã‚°ä¿®æ­£
- **refactor**: ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°
- **docs**: ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ›´æ–°
- **test**: ãƒ†ã‚¹ãƒˆè¿½åŠ ãƒ»ä¿®æ­£
- **style**: ã‚³ãƒ¼ãƒ‰ã‚¹ã‚¿ã‚¤ãƒ«ä¿®æ­£

### ãƒ•ã‚§ãƒ¼ã‚º3å®Œäº†
- VRMãƒ¡ã‚¿æƒ…å ±è¡¨ç¤ºæ©Ÿèƒ½ã®å®Œå…¨å®Ÿè£…
- Three-VRMã®æ­£å¼ãªãƒ¡ã‚¿æƒ…å ±å–å¾—æ–¹å¼ã¸ã®å¯¾å¿œ
- ã‚µãƒ ãƒã‚¤ãƒ«ç”»åƒè¡¨ç¤ºã®å®Ÿè£…å®Œäº†
- VRM0.x/VRM1.0ä¸¡å½¢å¼ã¸ã®å¯¾å¿œ
- Playwright MCPã«ã‚ˆã‚‹å‹•ä½œç¢ºèªå®Œäº†

### æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—
ãƒ•ã‚§ãƒ¼ã‚º3.2 (lil-guiçµ±åˆ) ã¾ãŸã¯ãƒ•ã‚§ãƒ¼ã‚º4 (ãƒãƒ¼ã‚¸ãƒ³ã‚°æ©Ÿèƒ½) ã®é¸æŠ

## é–‹ç™ºç’°å¢ƒã®åˆ¶ç´„ãƒ»æ³¨æ„ç‚¹ï¼ˆ2025å¹´6æœˆ27æ—¥ï¼‰

### PowerShellåˆ¶ç´„
- **&&æ¼”ç®—å­**: PowerShellã§ã¯ `&&` æ¼”ç®—å­ãŒä½¿ç”¨ã§ããªã„
  - âŒ `git add . && git commit -m "message"`
  - âœ… `git add .` â†’ æ”¹è¡Œ â†’ `git commit -m "message"`
  - è¤‡æ•°ã®ã‚³ãƒãƒ³ãƒ‰ã‚’é€£ç¶šå®Ÿè¡Œã™ã‚‹å ´åˆã¯å€‹åˆ¥ã«å®Ÿè¡Œã™ã‚‹å¿…è¦ãŒã‚ã‚‹
- **å¯¾ç­–**: è¤‡æ•°ã®ã‚³ãƒãƒ³ãƒ‰ã¯ `run_in_terminal` ãƒ„ãƒ¼ãƒ«ã§åˆ†å‰²ã—ã¦å®Ÿè¡Œ

### Gitæ“ä½œã®ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹
- å„ã‚¹ãƒ†ãƒƒãƒ—å®Œäº†æ™‚ã«ã‚³ãƒŸãƒƒãƒˆã‚’å®Ÿè¡Œã™ã‚‹éš›ã¯ã€ã‚³ãƒãƒ³ãƒ‰ã‚’åˆ†å‰²
- `git add .` â†’ `git commit -m "..."`ã®é †åºã§å®Ÿè¡Œ
- ã‚³ãƒŸãƒƒãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã¯è©³ç´°ã‹ã¤æ˜ç¢ºã«è¨˜è¿°

## ãƒ•ã‚§ãƒ¼ã‚º3: VRMãƒ¡ã‚¿æƒ…å ±è¡¨ç¤ºæ©Ÿèƒ½å®Œäº†ãƒ¡ãƒ¢ (2024/12/28)

### âœ… VRM0/VRM1ãƒãƒ¼ã‚¸ãƒ§ãƒ³æ¤œçŸ¥ãƒ»ãƒ¡ã‚¿æƒ…å ±å¯¾å¿œå®Œäº†

#### é‡è¦ãªå®Ÿè£…æˆæœ
**VRM0ç³»ã¨VRM1ç³»ã®ãƒ¡ã‚¿æƒ…å ±æ§‹é€ ã®é•ã„ã«å®Œå…¨å¯¾å¿œ**

1. **VRMãƒãƒ¼ã‚¸ãƒ§ãƒ³æ¤œçŸ¥ãƒ­ã‚¸ãƒƒã‚¯å¼·åŒ–**
   - VRM0ç³»ã®ç‰¹å¾´çš„ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ï¼ˆtitle, author, commercialUssageName, allowedUserNameç­‰ï¼‰ã‚’å„ªå…ˆçš„ã«ãƒã‚§ãƒƒã‚¯
   - VRM1ç³»ã®ç‰¹å¾´çš„ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ï¼ˆmetaVersion, authors, commercialUsageç­‰ï¼‰ã¨ã®æ˜ç¢ºãªåŒºåˆ¥
   - VRM0ç³»ãŒèª¤ã£ã¦VRM1ã¨ã—ã¦æ¤œçŸ¥ã•ã‚Œã‚‹å•é¡Œã‚’è§£æ±º

2. **ãƒ¡ã‚¿æƒ…å ±æ­£è¦åŒ–å‡¦ç†å®Ÿè£…**
   - VRM0ç³»: `title â†’ name`, `author â†’ authorsé…åˆ—`å¤‰æ›
   - VRM1ç³»: æ—¢å­˜ã®`name`, `authorsé…åˆ—`ã‚’ãã®ã¾ã¾ä½¿ç”¨
   - ä¸¡å½¢å¼ã‚’çµ±ä¸€ã•ã‚ŒãŸã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã§æ‰±ã†æ­£è¦åŒ–å±¤è¿½åŠ 

3. **UIè¡¨ç¤ºåˆ†å²å®Ÿè£…**
   - VRM0ç³»: è©³ç´°ãªãƒ©ã‚¤ã‚»ãƒ³ã‚¹æƒ…å ±ï¼ˆå•†ç”¨åˆ©ç”¨ã€åˆ©ç”¨è¨±å¯ã€æš´åŠ›ãƒ»æ€§çš„è¡¨ç¾ã€ãƒ©ã‚¤ã‚»ãƒ³ã‚¹åç­‰ï¼‰
   - VRM1ç³»: æ–°å½¢å¼ã®ãƒ©ã‚¤ã‚»ãƒ³ã‚¹æƒ…å ±ï¼ˆãƒ©ã‚¤ã‚»ãƒ³ã‚¹URLã€å•†ç”¨åˆ©ç”¨ã€æ”¹å¤‰è¨±å¯ç­‰ï¼‰
   - ä¸¡å½¢å¼ã§ã‚µãƒ ãƒã‚¤ãƒ«ç”»åƒè¡¨ç¤ºå¯¾å¿œ

#### æŠ€è¡“çš„è©³ç´°

**VRMãƒãƒ¼ã‚¸ãƒ§ãƒ³æ¤œçŸ¥ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ æ”¹å–„**:
```typescript
// VRM0.xç³»ã®ç‰¹å¾´çš„ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’å„ªå…ˆãƒã‚§ãƒƒã‚¯
if (vrmMeta?.title !== undefined || 
    vrmMeta?.author !== undefined || 
    vrmMeta?.commercialUssageName !== undefined) {
  // VRM0ã¨ã—ã¦å‡¦ç†
}
// VRM1.xç³»ã®ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ãƒã‚§ãƒƒã‚¯
else if (vrmMeta?.metaVersion !== undefined ||
         vrmMeta?.authors || vrmMeta?.commercialUsage !== undefined) {
  // VRM1ã¨ã—ã¦å‡¦ç†
}
```

**ãƒ¡ã‚¿æƒ…å ±æ­£è¦åŒ–å‡¦ç†**:
- VRM0: `{title, author, version, commercialUssageName, allowedUserName, violentUssageName, sexualUssageName, licenseName}`
- VRM1: `{name, authors[], metaVersion, commercialUsage, modification, licenseUrl}`
- çµ±ä¸€: `{name, authors[], detectedVersion, isVRM0, isVRM1, thumbnailImage, ...}`

#### Playwrightãƒ†ã‚¹ãƒˆçµæœ
- âœ… VRM0ã‚µãƒ³ãƒ—ãƒ«: æ­£ã—ãã€ŒVRM 0.0ã€ã¨ã—ã¦æ¤œçŸ¥ãƒ»è¡¨ç¤º
- âœ… VRM1ã‚µãƒ³ãƒ—ãƒ«: æ­£ã—ãã€ŒVRM 1.1ã€ã¨ã—ã¦æ¤œçŸ¥ãƒ»è¡¨ç¤º
- âœ… VRM0ç³»ãƒ¡ã‚¿æƒ…å ±: ã‚¿ã‚¤ãƒˆãƒ«ã€ä½œè€…ã€è©³ç´°ãƒ©ã‚¤ã‚»ãƒ³ã‚¹æƒ…å ±ã€ãƒãƒ¼ã‚¸ãƒ§ãƒ³æƒ…å ±è¡¨ç¤º
- âœ… VRM1ç³»ãƒ¡ã‚¿æƒ…å ±: åå‰ã€ä½œè€…é…åˆ—ã€ãƒ©ã‚¤ã‚»ãƒ³ã‚¹URLã€å•†ç”¨åˆ©ç”¨ãƒ»æ”¹å¤‰è¨±å¯ã€ã‚µãƒ ãƒã‚¤ãƒ«è¡¨ç¤º
- âœ… ä¸¡ãƒãƒ¼ã‚¸ãƒ§ãƒ³å…±å­˜: è¤‡æ•°ãƒ¢ãƒ‡ãƒ«èª­ã¿è¾¼ã¿æ™‚ã®å€‹åˆ¥ãƒãƒ¼ã‚¸ãƒ§ãƒ³åˆ¤å®š

#### é‡è¦ãªè¨­è¨ˆåˆ¤æ–­
1. **VRM0å„ªå…ˆæ¤œçŸ¥**: VRM0ç³»ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’å…ˆã«ãƒã‚§ãƒƒã‚¯ã—ã€VRM1ã¨ã®èª¤èªè­˜ã‚’é˜²æ­¢
2. **æ­£è¦åŒ–ãƒ¬ã‚¤ãƒ¤ãƒ¼**: ä¸¡å½¢å¼ã‚’çµ±ä¸€ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã§æ‰±ã†ã“ã¨ã§ã€UIå±¤ã§ã®åˆ†å²ã‚’æœ€å°åŒ–
3. **ãƒ‡ãƒãƒƒã‚°ãƒ­ã‚°å¼·åŒ–**: ãƒãƒ¼ã‚¸ãƒ§ãƒ³æ¤œçŸ¥ãƒ—ãƒ­ã‚»ã‚¹ã®å¯è¦–åŒ–ã§ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã‚’æ”¯æ´

#### ä»Šå¾Œã®æ‹¡å¼µå¯¾å¿œ
- æ–°ã—ã„VRMãƒãƒ¼ã‚¸ãƒ§ãƒ³ã¸ã®å¯¾å¿œã¯`detectVRMVersion`ã¨`normalizeVRMMetadata`ã®ä¿®æ­£ã®ã¿ã§å¯èƒ½
- UIè¡¨ç¤ºã¯æ­£è¦åŒ–ã•ã‚ŒãŸãƒ¡ã‚¿æƒ…å ±ã‚’ä½¿ç”¨ã™ã‚‹ãŸã‚ã€è¡¨ç¤ºãƒ­ã‚¸ãƒƒã‚¯ã®å¤‰æ›´ã¯æœ€å°é™

## ãƒ•ã‚§ãƒ¼ã‚º3.2ã®æ–¹é‡å¤‰æ›´

### å¤‰æ›´å†…å®¹ï¼ˆ2025å¹´6æœˆ27æ—¥ï¼‰
- **æ—§ãƒ•ã‚§ãƒ¼ã‚º3.2**: lil-guiçµ±åˆï¼ˆã‚«ãƒ¡ãƒ©ãƒ»ãƒ©ã‚¤ãƒˆãƒ»ãƒ¢ãƒ‡ãƒ«è¡¨ç¤ºè¨­å®šãƒ‘ãƒãƒ«ï¼‰
- **æ–°ãƒ•ã‚§ãƒ¼ã‚º3.2**: ãƒ©ã‚¤ãƒˆèª¿æ•´æ©Ÿèƒ½ï¼ˆè‰²èª¿æ•´ãƒ»æ–¹å‘æ€§ãƒ©ã‚¤ãƒˆæ“ä½œï¼‰

### å¤‰æ›´ç†ç”±
1. **GUIè¦ç´ ã®å……å®Ÿ**: ãƒ•ã‚§ãƒ¼ã‚º3.1å®Œäº†æ™‚ç‚¹ã§æ—¢ã«ç‹¬è‡ªUIãŒååˆ†å®Ÿè£…ã•ã‚Œã¦ãŠã‚Šã€lil-guiã®å¿…è¦æ€§ãŒä½ä¸‹
2. **ãƒ¦ãƒ¼ã‚¶ãƒ“ãƒªãƒ†ã‚£**: çµ±ä¸€ã•ã‚ŒãŸUIãƒ‡ã‚¶ã‚¤ãƒ³ã«ã‚ˆã‚‹ä¸€è²«æ€§ã®ç¶­æŒ
3. **æ©Ÿèƒ½æ‹¡å¼µ**: ãƒ©ã‚¤ãƒˆæ“ä½œã«ã‚ˆã‚Šå®Ÿç”¨çš„ãªæ©Ÿèƒ½ï¼ˆæ–¹å‘æ€§ãƒ©ã‚¤ãƒˆã®TransformControlsæ“ä½œç­‰ï¼‰ã«é‡ç‚¹

### æ–°ãƒ•ã‚§ãƒ¼ã‚º3.2ã®å®Ÿè£…æ–¹é‡
1. **ãƒ©ã‚¤ãƒˆè‰²èª¿æ•´**: AmbientLightãƒ»DirectionalLightã®è‰²ã‚’ã‚«ãƒ©ãƒ¼ãƒ”ãƒƒã‚«ãƒ¼ã§èª¿æ•´
2. **ãƒ©ã‚¤ãƒˆæ“ä½œ**: DirectionalLightHelperã®è¡¨ç¤ºã¨TransformControlsã«ã‚ˆã‚‹å›è»¢æ“ä½œ
3. **è¦–è¦šãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯**: ãƒ©ã‚¤ãƒˆé¸æŠæ™‚ã®ãƒã‚¤ãƒ©ã‚¤ãƒˆãƒ»ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼
4. **è¨­å®šä¿å­˜**: ãƒ©ã‚¤ãƒˆãƒ—ãƒªã‚»ãƒƒãƒˆãƒ»ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå¾©å…ƒæ©Ÿèƒ½

### æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—
- ãƒ•ã‚§ãƒ¼ã‚º3.2: ãƒ©ã‚¤ãƒˆèª¿æ•´æ©Ÿèƒ½ã®å®Ÿè£…
- ãƒ•ã‚§ãƒ¼ã‚º4: ãƒãƒ¼ã‚¸ãƒ³ã‚°æ©Ÿèƒ½ã®å®Ÿè£…

## ãƒ•ã‚§ãƒ¼ã‚º3.2å®Ÿè£…å®Œäº† - ãƒ©ã‚¤ãƒˆèª¿æ•´æ©Ÿèƒ½

### å®Ÿè£…å†…å®¹ï¼ˆ2025å¹´6æœˆ27æ—¥ï¼‰

#### 1. ãƒ©ã‚¤ãƒˆè‰²èª¿æ•´æ©Ÿèƒ½
- **VRMViewer.ts**: ãƒ©ã‚¤ãƒˆè‰²è¨­å®šãƒ¡ã‚½ãƒƒãƒ‰è¿½åŠ 
  - `setAmbientLightColor()`, `setDirectionalLightColor()`, `setRimLightColor()`
  - `getAmbientLightColor()`, `getDirectionalLightColor()`, `getRimLightColor()`
  - THREE.Colorå¤‰æ›ã«ã‚ˆã‚‹type-safeå®Ÿè£…

- **main.ts**: ã‚«ãƒ©ãƒ¼ãƒ”ãƒƒã‚«ãƒ¼UIãƒ»ã‚¤ãƒ™ãƒ³ãƒˆãƒªã‚¹ãƒŠãƒ¼è¿½åŠ 
  - ç’°å¢ƒå…‰ãƒ»æ–¹å‘æ€§ãƒ©ã‚¤ãƒˆãƒ»ãƒªãƒ ãƒ©ã‚¤ãƒˆç”¨ã‚«ãƒ©ãƒ¼ãƒ”ãƒƒã‚«ãƒ¼
  - `new THREE.Color(colorString)`ã§ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ è‰²å¤‰æ›´

#### 2. ãƒ©ã‚¤ãƒˆè¦–è¦šåŒ–ãƒ»æ“ä½œæ©Ÿèƒ½
- **VRMViewer.ts**: DirectionalLightHelperãƒ»TransformControlsçµ±åˆ
  - `setupLightHelpers()`: ãƒ©ã‚¤ãƒˆãƒ˜ãƒ«ãƒ‘ãƒ¼ãƒ»TransformControlsåˆæœŸåŒ–
  - `setLightHelpersVisible()`: ãƒ˜ãƒ«ãƒ‘ãƒ¼è¡¨ç¤ºåˆ‡ã‚Šæ›¿ãˆ
  - `enableDirectionalLightTransform()`: æ–¹å‘æ€§ãƒ©ã‚¤ãƒˆæ“ä½œæœ‰åŠ¹åŒ–
  - `disableLightTransform()`: TransformControlsç„¡åŠ¹åŒ–

- **main.ts**: ãƒ©ã‚¤ãƒˆæ“ä½œUIè¿½åŠ 
  - ã€Œãƒ©ã‚¤ãƒˆãƒ˜ãƒ«ãƒ‘ãƒ¼è¡¨ç¤ºã€ãƒœã‚¿ãƒ³ï¼ˆçŠ¶æ…‹é€£å‹•ã§ãƒ†ã‚­ã‚¹ãƒˆå¤‰æ›´ï¼‰
  - ã€Œæ–¹å‘æ€§ãƒ©ã‚¤ãƒˆé¸æŠã€ãƒœã‚¿ãƒ³ï¼ˆTransformControlsåˆ‡ã‚Šæ›¿ãˆï¼‰

#### 3. è¨­å®šä¿å­˜ãƒ»å¾©å…ƒæ©Ÿèƒ½
- **VRMViewer.ts**: `resetLights()`æ‹¡å¼µ
  - è‰²ãƒ»å¼·åº¦ãƒ»ä½ç½®ã®å®Œå…¨ãƒªã‚»ãƒƒãƒˆ
  - TransformControlsç„¡åŠ¹åŒ–

- **main.ts**: UIçŠ¶æ…‹ãƒªã‚»ãƒƒãƒˆ
  - å…¨ã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼ãƒ»ã‚«ãƒ©ãƒ¼ãƒ”ãƒƒã‚«ãƒ¼å€¤å¾©å…ƒ
  - ãƒœã‚¿ãƒ³ãƒ†ã‚­ã‚¹ãƒˆçŠ¶æ…‹å¾©å…ƒ

#### 4. æŠ€è¡“çš„ç‰¹å¾´
- **å‹å®‰å…¨æ€§**: TypeScriptã«ã‚ˆã‚‹strict type checking
- **ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ›´æ–°**: ã‚«ãƒ©ãƒ¼ãƒ”ãƒƒã‚«ãƒ¼inputã‚¤ãƒ™ãƒ³ãƒˆã§ã®å³åº§åæ˜ 
- **UIä¸€è²«æ€§**: ãƒœã‚¿ãƒ³çŠ¶æ…‹ã¨ãƒ©ã‚¤ãƒˆçŠ¶æ…‹ã®å®Œå…¨åŒæœŸ
- **OrbitControlsçµ±åˆ**: TransformControlsä½¿ç”¨æ™‚ã®é©åˆ‡ãªåˆ¶å¾¡ç„¡åŠ¹åŒ–

#### 5. å‹•ä½œç¢ºèªçµæœ
- âœ… VRM0ã‚µãƒ³ãƒ—ãƒ«ã§ã®å…¨æ©Ÿèƒ½ãƒ†ã‚¹ãƒˆå®Œäº†
- âœ… ãƒ©ã‚¤ãƒˆè‰²å¤‰æ›´ãƒ»ãƒ˜ãƒ«ãƒ‘ãƒ¼è¡¨ç¤ºãƒ»TransformControlsæ“ä½œç¢ºèª
- âœ… ãƒªã‚»ãƒƒãƒˆæ©Ÿèƒ½ã®å®Œå…¨å‹•ä½œç¢ºèª
- âœ… æ—¢å­˜æ©Ÿèƒ½ã¨ã®å¹²æ¸‰ãªã—ç¢ºèª

#### ä»Šå¾Œã®æ‹¡å¼µå¯¾å¿œ
- æ–°ã—ã„ãƒ©ã‚¤ãƒˆã‚¿ã‚¤ãƒ—ã‚„ã‚¨ãƒ•ã‚§ã‚¯ãƒˆã¸ã®å¯¾å¿œã¯ã€`VRMViewer.ts`ã®ãƒ©ã‚¤ãƒˆè¨­å®šãƒ¡ã‚½ãƒƒãƒ‰è¿½åŠ ã¨UIã®æ‹¡å¼µã®ã¿ã§å¯¾å¿œå¯èƒ½
- ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‹ã‚‰ã®ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã«åŸºã¥ãå¾®èª¿æ•´ã‚„æ©Ÿèƒ½è¿½åŠ ãŒå®¹æ˜“

## ãƒ•ã‚§ãƒ¼ã‚º4: ãƒãƒ¼ã‚¸ãƒ³ã‚°æ©Ÿèƒ½ã®å®Ÿè£…æ–¹é‡

### å®Ÿè£…å†…å®¹ï¼ˆ2025å¹´6æœˆ27æ—¥ï¼‰
1. **ãƒãƒ¼ã‚¸ãƒ³ã‚°æ©Ÿèƒ½ã®æ¦‚è¦**
   - ãƒ¢ãƒ‡ãƒ«ã«å¯¾ã™ã‚‹ãƒãƒ¼ã‚ºã®é©ç”¨ãƒ»ä¿å­˜ãƒ»èª­ã¿è¾¼ã¿æ©Ÿèƒ½
   - ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒå®šç¾©ã—ãŸãƒãƒ¼ã‚ºãƒ—ãƒªã‚»ãƒƒãƒˆã®ç®¡ç†

2. **UIè¨­è¨ˆ**
   - ãƒãƒ¼ã‚ºæ“ä½œãƒ‘ãƒãƒ«: ç¾åœ¨ã®ãƒãƒ¼ã‚ºã®é©ç”¨ãƒ»ãƒªã‚»ãƒƒãƒˆãƒœã‚¿ãƒ³
   - ãƒ—ãƒªã‚»ãƒƒãƒˆç®¡ç†ãƒ‘ãƒãƒ«: ãƒ—ãƒªã‚»ãƒƒãƒˆã®è¿½åŠ ãƒ»å‰Šé™¤ãƒ»é©ç”¨ãƒœã‚¿ãƒ³
   - ã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼: å„é–¢ç¯€ã®å›è»¢ãƒ»ä½ç½®èª¿æ•´ç”¨

3. **æŠ€è¡“çš„å®Ÿè£…**
   - **ãƒãƒ¼ã‚ºãƒ‡ãƒ¼ã‚¿æ§‹é€ **: å„é–¢ç¯€ã®ãƒ­ãƒ¼ã‚«ãƒ«åº§æ¨™ãƒ»å›è»¢æƒ…å ±ã‚’å«ã‚€JSONå½¢å¼
   - **ãƒãƒ¼ã‚ºé©ç”¨ãƒ­ã‚¸ãƒƒã‚¯**: ãƒ¢ãƒ‡ãƒ«ã®ãƒœãƒ¼ãƒ³éšå±¤ã«åŸºã¥ã„ãŸãƒãƒ¼ã‚ºã®å†ç¾
   - **UIé€£æº**: ã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼æ“ä½œã«ã‚ˆã‚‹ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒãƒ¼ã‚ºå¤‰æ›´

4. **å®Ÿè£…ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«**
   - **ãƒ•ã‚§ãƒ¼ã‚º4.1**: åŸºæœ¬çš„ãªãƒãƒ¼ã‚ºé©ç”¨ãƒ»ä¿å­˜æ©Ÿèƒ½ã®å®Ÿè£…
   - **ãƒ•ã‚§ãƒ¼ã‚º4.2**: ãƒ—ãƒªã‚»ãƒƒãƒˆç®¡ç†æ©Ÿèƒ½ã®å®Ÿè£…
   - **ãƒ•ã‚§ãƒ¼ã‚º4.3**: UIã®æ•´å‚™ã¨ãƒ¦ãƒ¼ã‚¶ãƒ“ãƒªãƒ†ã‚£å‘ä¸Š

5. **æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—**
   - ãƒ•ã‚§ãƒ¼ã‚º4: ãƒãƒ¼ã‚¸ãƒ³ã‚°æ©Ÿèƒ½ã®å®Ÿè£…

## TransformControlsã®å®Ÿè£…ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹

### å®Ÿè£…èƒŒæ™¯ï¼ˆ2025å¹´6æœˆ27æ—¥ï¼‰
ãƒ•ã‚§ãƒ¼ã‚º3.2ã®ãƒ©ã‚¤ãƒˆèª¿æ•´æ©Ÿèƒ½å®Ÿè£…ã§TransformControlsã‚’æ´»ç”¨ã—ã€ãƒ—ãƒ­ã‚­ã‚·ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¨ãƒ©ã‚¤ãƒˆå›è»¢ã®åŒæœŸã§é‡è¦ãªçŸ¥è¦‹ã‚’å¾—ãŸã€‚ãƒ•ã‚§ãƒ¼ã‚º4ã®ãƒœãƒ¼ãƒ³æ“ä½œã§ã‚‚å¤šç”¨ã™ã‚‹ãŸã‚ã€ä»Šå›ã®é–“é•ã„ã¨æ­£ã—ã„å®Ÿè£…æ–¹æ³•ã‚’è¨˜éŒ²ã€‚

### âŒ é–“é•ã£ãŸå®Ÿè£…ãƒ‘ã‚¿ãƒ¼ãƒ³

#### 1. åˆæœŸçŠ¶æ…‹ã®ç®¡ç†ã‚¿ã‚¤ãƒŸã‚¹
```typescript
// âŒ BAD: enableãƒ¡ã‚½ãƒƒãƒ‰ã§ä¸€åº¦ã ã‘åˆæœŸçŠ¶æ…‹ã‚’ä¿å­˜
enableDirectionalLightTransform(): void {
  // ãƒ—ãƒ­ã‚­ã‚·ã®åˆæœŸã‚¯ã‚©ãƒ¼ã‚¿ãƒ‹ã‚ªãƒ³ã‚’ä¿å­˜ï¼ˆç¾åœ¨ã®çŠ¶æ…‹ã‚’ä¿å­˜ï¼‰
  this.proxyInitialQuaternion = this.directionalLightProxy.quaternion.clone();
}

// âŒ BAD: changeã‚¤ãƒ™ãƒ³ãƒˆã§ç¾åœ¨ã®ãƒ©ã‚¤ãƒˆçŠ¶æ…‹ã‹ã‚‰è¨ˆç®—
this.lightTransformControls.addEventListener('change', () => {
  // ãƒ©ã‚¤ãƒˆã®å…ƒã®æ–¹å‘ï¼ˆposition -> targetï¼‰ã‚’è¨ˆç®—
  const originalDirection = new THREE.Vector3();
  originalDirection.subVectors(this.directionalLight.target.position, this.directionalLight.position).normalize();
  // â†‘ æ¯å›ç¾åœ¨ã®çŠ¶æ…‹ã‹ã‚‰è¨ˆç®—ã™ã‚‹ãŸã‚ã€å·®åˆ†ãŒè“„ç©ã•ã‚Œã‚‹
});
```

#### 2. changeã‚¤ãƒ™ãƒ³ãƒˆã§ã®éæ•ãªåå¿œ
```typescript
// âŒ BAD: å…¨ã¦ã®changeã‚¤ãƒ™ãƒ³ãƒˆã§å‡¦ç†
this.lightTransformControls.addEventListener('change', () => {
  // ãƒã‚¦ã‚¹ã‚ªãƒ¼ãƒãƒ¼ã§ã‚‚å‡¦ç†ã•ã‚Œã¦ã—ã¾ã†
});
```

### âœ… æ­£ã—ã„å®Ÿè£…ãƒ‘ã‚¿ãƒ¼ãƒ³

#### 1. ãƒ‰ãƒ©ãƒƒã‚°é–‹å§‹æ™‚ã®åˆæœŸçŠ¶æ…‹ä¿å­˜
```typescript
// âœ… GOOD: dragging-changedã‚¤ãƒ™ãƒ³ãƒˆã§ãƒ‰ãƒ©ãƒƒã‚°é–‹å§‹æ™‚ã«ä¿å­˜
this.lightTransformControls.addEventListener('dragging-changed', (event) => {
  this.controls.enabled = !event.value;
  isDragging = event.value as boolean;
  
  // âœ… ãƒ‰ãƒ©ãƒƒã‚°é–‹å§‹æ™‚ã«åˆæœŸçŠ¶æ…‹ã‚’ä¿å­˜
  if (isDragging && this.directionalLightProxy) {
    // ãƒ—ãƒ­ã‚­ã‚·ã®åˆæœŸå›è»¢çŠ¶æ…‹ã‚’ä¿å­˜
    this.proxyInitialQuaternion = this.directionalLightProxy.quaternion.clone();
    
    // ãƒ©ã‚¤ãƒˆã®åˆæœŸæ–¹å‘ã‚’ä¿å­˜
    this.lightInitialDirection = new THREE.Vector3();
    this.lightInitialDirection.subVectors(
      this.directionalLight.target.position, 
      this.directionalLight.position
    ).normalize();
  }
});
```

#### 2. ãƒ‰ãƒ©ãƒƒã‚°ä¸­ã®ã¿ã®å‡¦ç†ã¨ãƒ™ãƒ¼ã‚¹ãƒ©ã‚¤ãƒ³è¨ˆç®—
```typescript
// âœ… GOOD: ãƒ‰ãƒ©ãƒƒã‚°ä¸­ã®ã¿å‡¦ç†ã—ã€ä¿å­˜ã•ã‚ŒãŸåˆæœŸçŠ¶æ…‹ã‹ã‚‰å·®åˆ†è¨ˆç®—
this.lightTransformControls.addEventListener('change', () => {
  // âœ… ãƒ‰ãƒ©ãƒƒã‚°ä¸­ã®ã¿ãƒ©ã‚¤ãƒˆã®å›è»¢ã‚’æ›´æ–°
  if (!isDragging) {
    return;
  }
  
  if (this.directionalLightProxy && 
      this.lightTransformControls?.object === this.directionalLightProxy && 
      this.proxyInitialQuaternion && 
      this.lightInitialDirection) {
    
    // âœ… ä¿å­˜ã•ã‚ŒãŸåˆæœŸçŠ¶æ…‹ã‹ã‚‰å·®åˆ†ã‚’è¨ˆç®—
    const currentQuaternion = this.directionalLightProxy.quaternion.clone();
    const initialQuaternion = this.proxyInitialQuaternion.clone();
    
    // å·®åˆ†ã‚¯ã‚©ãƒ¼ã‚¿ãƒ‹ã‚ªãƒ³ã‚’è¨ˆç®—ï¼ˆcurrent * initial^-1ï¼‰
    const inverseInitial = initialQuaternion.clone().invert();
    const deltaQuaternion = currentQuaternion.clone().multiply(inverseInitial);
    
    // âœ… ä¿å­˜ã•ã‚ŒãŸãƒ©ã‚¤ãƒˆã®åˆæœŸæ–¹å‘ã«å·®åˆ†å›è»¢ã‚’é©ç”¨
    const newDirection = this.lightInitialDirection.clone().applyQuaternion(deltaQuaternion).normalize();
    
    // ãƒ©ã‚¤ãƒˆã®targetã®ä½ç½®ã‚’æ›´æ–°
    const lightPosition = this.directionalLight.position.clone();
    const targetPosition = lightPosition.clone().add(newDirection.multiplyScalar(5));
    this.directionalLight.target.position.copy(targetPosition);
    this.directionalLight.target.updateMatrixWorld();
  }
});
```

### ğŸ”§ é‡è¦ãªæŠ€è¡“çš„ãƒã‚¤ãƒ³ãƒˆ

#### 1. ãƒ—ãƒ­ã‚­ã‚·ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®è¨­è¨ˆ
```typescript
// âœ… è¦–è¦šçš„ã«ç¢ºèªã§ãã‚‹ãƒ¯ã‚¤ãƒ¤ãƒ¼ãƒ•ãƒ¬ãƒ¼ãƒ è¡¨ç¤º
const proxyGeometry = new THREE.BoxGeometry(0.5, 0.5, 0.5);
const proxyMaterial = new THREE.MeshBasicMaterial({ 
  color: 0xff6600,  // ã‚ªãƒ¬ãƒ³ã‚¸è‰²
  wireframe: true,  // ãƒ¯ã‚¤ãƒ¤ãƒ¼ãƒ•ãƒ¬ãƒ¼ãƒ è¡¨ç¤º
  transparent: true,
  opacity: 0.7
});
this.directionalLightProxy = new THREE.Mesh(proxyGeometry, proxyMaterial);
```

#### 2. åˆæœŸçŠ¶æ…‹ã‚¯ãƒªã‚¢ã®ç®¡ç†
```typescript
// âœ… ç„¡åŠ¹åŒ–æ™‚ã¨ãƒªã‚»ãƒƒãƒˆæ™‚ã®ä¸¡æ–¹ã§åˆæœŸçŠ¶æ…‹ã‚’ã‚¯ãƒªã‚¢
disableLightTransform(): void {
  if (this.lightTransformControls) {
    this.lightTransformControls.detach();
    this.lightTransformControls.enabled = false;
  }
  // âœ… ãƒ—ãƒ­ã‚­ã‚·ã¨ãƒ©ã‚¤ãƒˆã®åˆæœŸçŠ¶æ…‹ã‚’ã‚¯ãƒªã‚¢
  this.proxyInitialQuaternion = null;
  this.lightInitialDirection = null;
  this.setLightProxyVisible(false);
}
```

#### 3. æ•°å€¤è¨ˆç®—ã®ã‚¨ãƒ©ãƒ¼é˜²æ­¢
```typescript
// âœ… Math.acosã®ç¯„å›²å¤–ã‚¨ãƒ©ãƒ¼é˜²æ­¢
const angle = 2 * Math.acos(Math.abs(Math.min(1.0, Math.abs(deltaQuaternion.w))));
if (angle < 0.001) {
  return; // å¾®å°ãªå¤‰åŒ–ã¯ç„¡è¦–
}
```

### ğŸ“‹ ãƒœãƒ¼ãƒ³æ“ä½œã¸ã®å¿œç”¨æ–¹é‡

#### 1. è¤‡æ•°ãƒ—ãƒ­ã‚­ã‚·ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ç®¡ç†
```typescript
// å„ãƒœãƒ¼ãƒ³ã«å¯¾å¿œã™ã‚‹ãƒ—ãƒ­ã‚­ã‚·ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ
private boneProxies: Map<string, THREE.Mesh> = new Map();
private boneInitialQuaternions: Map<string, THREE.Quaternion> = new Map();
private boneInitialDirections: Map<string, THREE.Vector3> = new Map();
```

#### 2. ãƒœãƒ¼ãƒ³é¸æŠã¨åˆæœŸçŠ¶æ…‹ç®¡ç†
```typescript
// ãƒœãƒ¼ãƒ³é¸æŠæ™‚ã®åˆæœŸçŠ¶æ…‹ä¿å­˜
selectBone(boneName: string): void {
  // ç¾åœ¨ã®ãƒœãƒ¼ãƒ³ã®çŠ¶æ…‹ã‚’ä¿å­˜
  const bone = this.getCurrentBone(boneName);
  if (bone) {
    this.boneInitialQuaternions.set(boneName, bone.quaternion.clone());
    // ãã®ä»–ã®åˆæœŸçŠ¶æ…‹ä¿å­˜
  }
}
```

#### 3. éšå±¤æ§‹é€ ã¸ã®å¯¾å¿œ
```typescript
// è¦ªãƒœãƒ¼ãƒ³ã¨ã®é–¢ä¿‚ã‚’è€ƒæ…®ã—ãŸå›è»¢é©ç”¨
applyBoneRotation(boneName: string, deltaQuaternion: THREE.Quaternion): void {
  const bone = this.getCurrentBone(boneName);
  const initialQuaternion = this.boneInitialQuaternions.get(boneName);
  
  if (bone && initialQuaternion) {
    // éšå±¤æ§‹é€ ã‚’è€ƒæ…®ã—ãŸå›è»¢è¨ˆç®—
    // ...
  }
}
```

### ğŸ¯ æˆåŠŸã®ãƒã‚¤ãƒ³ãƒˆ

1. **åˆæœŸçŠ¶æ…‹ã®ä¿å­˜ã‚¿ã‚¤ãƒŸãƒ³ã‚°**: enableæ™‚ã§ã¯ãªãã€draggingé–‹å§‹æ™‚
2. **ãƒ™ãƒ¼ã‚¹ãƒ©ã‚¤ãƒ³è¨ˆç®—**: ç¾åœ¨ã®çŠ¶æ…‹ã§ã¯ãªãã€ä¿å­˜ã•ã‚ŒãŸåˆæœŸçŠ¶æ…‹ã‹ã‚‰å·®åˆ†è¨ˆç®—
3. **çŠ¶æ…‹ç®¡ç†**: é©åˆ‡ãªã‚¿ã‚¤ãƒŸãƒ³ã‚°ã§ã®åˆæœŸçŠ¶æ…‹ã‚¯ãƒªã‚¢
4. **è¦–è¦šçš„ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯**: ãƒ¯ã‚¤ãƒ¤ãƒ¼ãƒ•ãƒ¬ãƒ¼ãƒ è¡¨ç¤ºã«ã‚ˆã‚‹æ“ä½œå¯¾è±¡ã®æ˜ç¢ºåŒ–
5. **ã‚¨ãƒ©ãƒ¼é˜²æ­¢**: æ•°å€¤è¨ˆç®—ã®ç¯„å›²ãƒã‚§ãƒƒã‚¯ã¨å¾®å°å¤‰åŒ–ã®ç„¡è¦–

ã“ã®çŸ¥è¦‹ã«ã‚ˆã‚Šã€ãƒ•ã‚§ãƒ¼ã‚º4ã®ãƒœãƒ¼ãƒ³æ“ä½œå®Ÿè£…ã§åŒæ§˜ã®å•é¡Œã‚’å›é¿ã—ã€æ­£ç¢ºã§ç›´æ„Ÿçš„ãªæ“ä½œã‚’å®Ÿç¾ã§ãã‚‹ã€‚
